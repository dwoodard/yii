Кэширование страниц
============

Кэширование страниц - это кэширование всего содержимого страницы. Кэширование
страниц может встречаться в различных местах. Например, выбрав соответствующий
странице заголовок, браузер пользователя может кэшировать просматриваемую
страницу на некоторое время. Веб-приложение само может хранить содержимое
страницы в кэше. В данном подразделе мы рассмотрим именно второй вариант.

Кэширование страницы может быть рассмотрено как частный случай [кэширования
фрагмента](/doc/guide/caching.fragment). Из-за того, что содержимое страницы
часто генерируется применением макета к представлению, не будет вариант,
когда мы просто вызываем методы [beginCache()|CBaseController::beginCache] и
[endCache()|CBaseController::endCache] в макете. Причина этого в том, что
макет применяется при вызове метода [CController::render()] ПОСЛЕ оценки
(просчета и генерирования) содержимого представления.

Для кэширования всей страницы мы должны пропустить выполнение генерирования
содержимого страницы. Мы можем использовать класс [COutputCache] как 
[фильтр](/doc/guide/basics.controller#filter) действия для выполнения этой
задачи. Код ниже показывает, как мы можем сконфигурировать фильтр кэша.

~~~
[php]
public function filters()
{
	return array(
		array(
			'system.web.widgets.COutputCache',
			'duration'=>100,
			'varyByParam'=>array('id'),
		),
	);
}
~~~

Вышеприведенная конфигурация фильтра создала бы фильтр, примененный ко всем
действиям в контроллере. Мы можем ограничить это поведение одним или 
несколькими действиями только использованием оператором плюс - `+`.
Подробнее можно найти в разделе [фильтры](/doc/guide/basics.controller#filter).

> Tip|Подсказка: Мы можем использовать класс [COutputCache] в качестве фильтра,
потому что он наследует класс [CFilterWidget], что означает, что оба этих
класса - виджеты и фильтры. Фактически, способ работы виджета очень похож
на работу фильтра: виджет (фильтр) начинается до того, как любое вложенное
содержимое (действие) будет вычислено, и виджет (фильтр) заканчивается после
того, как вложенное содержимое (действие) будет вычислено.

<div class="revision">$Id: caching.page.txt 162 2008-11-05 12:44:08Z weizhuo $</div>